{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","tr","rows","ErrorString","errorString","addEventListener","e","sortNames","arr","column","target","getAttribute","setAttribute","sort","a","b","children","textContent","append","sortSalary","slice","split","join","patentTarget","parentElement","i","length","classList","remove","add","form","createElement","body","insertAdjacentHTML","nameInput","positionInput","officeInput","ageInput","salaryInput","button","pushNotification","title","description","type","div","h2","p","className","setTimeout","preventDefault","value","Error","Intl","NumberFormat","format","tagName","querySelectorAll","inputs","previousText","newInput","cellIndex","firstChild","replaceWith","checkInput","isNaN","ev","code"],"mappings":"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","file":"main.06ce4b0e.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst tr = tbody.rows;\nconst ErrorString = 'Error';\nconst errorString = 'error';\n\nthead.addEventListener('click', e => {\n  const sortNames = (arr, column) => {\n    if (e.target.getAttribute('data-sorted') === 'ASC') {\n      e.target.setAttribute('data-sorted', 'DESC');\n\n      return [...arr].sort((a, b) =>\n        b.children[column].textContent < a.children[column].textContent\n          ? -1\n          : 1\n      );\n    } else {\n      e.target.setAttribute('data-sorted', 'ASC');\n\n      return [...arr].sort((a, b) =>\n        a.children[column].textContent < b.children[column].textContent\n          ? -1\n          : 1\n      );\n    }\n  };\n\n  switch (e.target.textContent) {\n    case 'Name':\n      let column = 0;\n\n      tbody.append(...sortNames(tr, column));\n      break;\n    case 'Position':\n      column = 1;\n      tbody.append(...sortNames(tr, column));\n      break;\n    case 'Office':\n      column = 2;\n      tbody.append(...sortNames(tr, column));\n      break;\n    case 'Age':\n      column = 3;\n      tbody.append(...sortNames(tr, column));\n      break;\n    case 'Salary':\n      const sortSalary = function(arr) {\n        if (e.target.getAttribute('data-sorted') === 'ASC') {\n          e.target.setAttribute('data-sorted', 'DESC');\n\n          return [...arr].sort((a, b) =>\n            +b.children[4].textContent.slice(1).split(',').join('')\n          - +a.children[4].textContent.slice(1).split(',').join(''));\n        } else {\n          e.target.setAttribute('data-sorted', 'ASC');\n\n          return [...arr].sort((a, b) =>\n            +a.children[4].textContent.slice(1).split(',').join('')\n            - +b.children[4].textContent.slice(1).split(',').join(''));\n        }\n      };\n\n      tbody.append(...sortSalary(tr));\n      break;\n  }\n});\n\ntbody.addEventListener('click', e => {\n  const patentTarget = e.target.parentElement;\n\n  for (let i = 0; i < tr.length; i++) {\n    tr[i].classList.remove('active');\n  };\n\n  patentTarget.classList.add('active');\n});\n\nconst form = document.createElement('form');\n\ndocument.body.append(form);\nform.classList.add('new-employee-form');\n\nform.insertAdjacentHTML('afterbegin', `\n  <label>Name:\n    <input\n      id=\"name\"\n      data-qa=\"name\"\n      name=\"name\"\n      type=\"text\"\n      required\n    >\n  </label>\n  <label>Position:\n    <input\n      id=\"position\"\n      data-qa=\"position\"\n      name=\"position\"\n      type=\"text\"\n      required\n    >\n  </label>\n  <label>Office:\n    <select\n      id=\"office\"\n      data-qa=\"office\"\n      name=\"office\"\n      required\n    >\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age:\n    <input\n      id=\"age\"\n      data-qa=\"age\"\n      name=\"age\"\n      type=\"number\"\n      required\n    >\n  </label>\n  <label>Salary:\n    <input\n      id=\"salary\"\n      data-qa=\"salary\"\n      name=\"salary\"\n      type=\"number\"\n      required\n    >\n  </label>\n  <button>Save to table</button>\n`);\n\nconst nameInput = form.querySelector('#name');\nconst positionInput = form.querySelector('#position');\nconst officeInput = form.querySelector('#office');\nconst ageInput = form.querySelector('#age');\nconst salaryInput = form.querySelector('#salary');\nconst button = form.querySelector('button');\n\nconst pushNotification = (title, description, type) => {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  document.body.append(div);\n  div.append(h2);\n  div.append(p);\n\n  div.className = 'notification';\n  div.setAttribute('data-qa', 'notification');\n  div.classList.add(type);\n  h2.className = 'title';\n  h2.textContent = title;\n  p.textContent = description;\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n};\n\nbutton.addEventListener('click', e => {\n  e.preventDefault();\n\n  if (nameInput.value.length < 4) {\n    pushNotification(\n      ErrorString,\n      'Name should be longer than 4 letters',\n      errorString\n    );\n\n    return;\n  }\n\n  if (positionInput.value.length < 4) {\n    pushNotification(\n      ErrorString,\n      'Position name should be longer than 4 letters',\n      errorString\n    );\n\n    return;\n  }\n\n  if (ageInput.value < 18 || ageInput.value > 90) {\n    pushNotification(\n      ErrorString,\n      'Age should be between 18-90',\n      errorString\n    );\n\n    return;\n  }\n\n  if (salaryInput.value < 100) {\n    pushNotification(\n      Error,\n      'Salary should be more 100',\n      errorString\n    );\n\n    return;\n  }\n\n  tbody.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${nameInput.value}</td>\n      <td>${positionInput.value}</td>\n      <td>${officeInput.value}</td>\n      <td>${ageInput.value}</td>\n      <td>$${Intl.NumberFormat('en-US').format(salaryInput.value)}</td>\n    </tr>\n  `);\n\n  nameInput.value = null;\n  positionInput.value = null;\n  officeInput.value = 'Tokyo';\n  ageInput.value = null;\n  salaryInput.value = null;\n\n  pushNotification(\n    'Success',\n    'Employee has been added',\n    'success'\n  );\n});\n\ntbody.addEventListener('click', e => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  const inputs = tbody.querySelectorAll('.cell-input');\n\n  if (inputs.length >= 1) {\n    return;\n  }\n\n  const previousText = e.target.textContent;\n  const newInput = e.target.cellIndex === 2\n    ? document.createElement('select')\n    : document.createElement('input');\n\n  if (newInput.tagName === 'SELECT') {\n    newInput.insertAdjacentHTML('afterbegin', `  \n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    `);\n  }\n\n  newInput.value = previousText;\n  newInput.classList.add('cell-input');\n\n  e.target.firstChild.replaceWith(newInput);\n\n  const checkInput = function() {\n    if (e.target.cellIndex === 0 || e.target.cellIndex === 1) {\n      if (newInput.value.length < 4) {\n        newInput.replaceWith(previousText);\n\n        pushNotification(\n          ErrorString,\n          'Should be longer than 4 letters',\n          errorString\n        );\n\n        return;\n      }\n\n      if (!isNaN(newInput.value)) {\n        newInput.replaceWith(previousText);\n\n        pushNotification(\n          ErrorString,\n          `Shouldn't be number`,\n          errorString\n        );\n\n        return;\n      }\n    }\n\n    if (e.target.cellIndex === 3) {\n      if (isNaN(newInput.value)) {\n        newInput.replaceWith(previousText);\n\n        pushNotification(\n          ErrorString,\n          'Should be number',\n          errorString\n        );\n\n        return;\n      }\n\n      if (newInput.value < 18 || newInput.value > 90) {\n        newInput.replaceWith(previousText);\n\n        pushNotification(\n          ErrorString,\n          'Age should be more than 18 and less than 90',\n          errorString\n        );\n\n        return;\n      }\n    }\n\n    if (e.target.cellIndex === 4) {\n      if (isNaN(newInput.value)) {\n        newInput.replaceWith(previousText);\n\n        pushNotification(\n          ErrorString,\n          'Should be number',\n          errorString\n        );\n\n        return;\n      }\n\n      newInput.replaceWith(\n        `$${Intl.NumberFormat('en-US').format(newInput.value)}`\n      );\n    }\n\n    newInput.replaceWith(newInput.value);\n  };\n\n  newInput.addEventListener('blur', ev => {\n    checkInput();\n  }, true);\n\n  newInput.addEventListener('keydown', ev => {\n    if (ev.code === 'Enter') {\n      checkInput();\n    }\n  });\n});\n"]}